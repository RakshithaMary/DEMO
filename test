// --- CLIENT ---
CREATE CONSTRAINT client_id_unique IF NOT EXISTS
FOR (c:Client) REQUIRE c.clientId IS UNIQUE;

// --- DEPOSIT PRODUCT ---
CREATE INDEX deposit_product_name_idx IF NOT EXISTS
FOR (ap:DepositProduct) ON (ap.name);

// --- FLOW ---
CREATE INDEX flow_dir_idx IF NOT EXISTS
FOR (f:Flow) ON (f.direction);

// --- CHANNEL ---
CREATE INDEX channel_name_idx IF NOT EXISTS
FOR (ch:Channel) ON (ch.name);

// --- PAYMENT PRODUCT ---
CREATE INDEX payment_product_nm_idx IF NOT EXISTS
FOR (pp:PaymentProduct) ON (pp.name);

// --- FINANCIAL INSTITUTION ---
CREATE INDEX fi_name_idx IF NOT EXISTS
FOR (fi:FinancialInstitution) ON (fi.name);

// --- PROSPECT ---
CREATE CONSTRAINT prospect_id_unique IF NOT EXISTS
FOR (p:Prospect) REQUIRE p.prospectId IS UNIQUE;

// --- AGGTX (composite index) ---
CREATE INDEX aggTx_composite_idx IF NOT EXISTS
FOR (a:AggTx)
ON (a.monthId, a.client_id, a.account_product_id, a.payment_product_nm,
    a.flow, a.txn_channel, a.prospect_fi_id, a.prospect_id);
